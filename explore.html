<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Exploratory Data Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="data.html">Data</a>
</li>
<li>
  <a href="explore.html">Explore</a>
</li>
<li>
  <a href="plots.html">Plots</a>
</li>
<li>
  <a href="screencast.html">Screencast</a>
</li>
<li>
  <a href="https://github.com/anjilean/p8105_final_project_AAAD">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Exploratory Data Analysis</h1>

</div>


<p>Initial PM2.5 data exploration was focused on New York City counties. However, limited data was available, so NY state county data were selected to demonstrate the relationship between PM2.5 and hospitalizations of asthma and CVD.</p>
<p>Over 2000-2014, levels of PM2.5 across all counties in New York State have steadily decreased.</p>
<div id="pm2.5-dataset-2000-2014" class="section level4">
<h4>PM2.5 Dataset, 2000-2014</h4>
<pre class="r"><code>PM_county_NYS = read_csv(&quot;./data/PM2.5_county_NYS.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  select(county_name, year, output, measure) %&gt;%
  separate(county_name, into = c(&quot;county&quot;, &quot;delete&quot;, sep = &quot; &quot;)) %&gt;% 
  select(-delete) %&gt;%
  mutate(county = recode(county, `New` = &quot;New York&quot;)) %&gt;% 
  select(county, year, output, measure)</code></pre>
</div>
<div id="plot-pm2.5-ugm3-over-time-2000-2014" class="section level4">
<h4>Plot PM2.5 (ug/m3) over time, 2000-2014</h4>
<pre class="r"><code>PM_plot_conc_allyears = PM_county_NYS %&gt;%
  filter(measure == &quot;Micrograms/cubic meter (LC)&quot;) %&gt;%
  group_by(county, year) %&gt;%
  ggplot(aes(x = year, y = output, color = county)) + 
  geom_line() + 
  labs(title = &quot;Ambient PM2.5 Concentrations in New York State, 2000-2014&quot;, 
       x = &quot;Year&quot;, 
       y = &quot;PM2.5 (ug/m3)&quot;)

PM_plot_conc_allyears</code></pre>
<p><img src="explore_files/figure-html/plot_pm_00_14-1.png" width="90%" /></p>
<p>Next, we wanted to assess how PM2.5 exposure varied across counties in NY State.</p>
</div>
<div id="pm2.5-epa-dataset" class="section level4">
<h4>PM2.5 EPA dataset</h4>
<pre class="r"><code>nyc_pm25 = read_csv(file = &quot;./data/annual_aqi_by_county_2014.csv&quot;) %&gt;% 
  janitor::clean_names() %&gt;%
  filter(state == &quot;New York&quot;)</code></pre>
</div>
<div id="days-of-pm2.5-by-ny-county" class="section level4">
<h4>Days of PM2.5 by NY County</h4>
<pre class="r"><code>pm_hist = nyc_pm25 %&gt;%
  ggplot(aes(x = reorder(county, -days_pm2_5), y = days_pm2_5)) + 
  labs(
    title = &quot;Days of PM2.5 by County&quot;,
    x = &quot;County&quot;,
    y = &quot;Days with PM2.5&quot;) +
  geom_histogram(stat = &quot;identity&quot;) + theme(axis.text.x = element_text(angle = 90))

pm_hist</code></pre>
<p><img src="explore_files/figure-html/pm_county_epa-1.png" width="90%" /></p>
<p>Kings, Oneida, and Nassau reported the most number of days of PM2.5.</p>
<p>Literature shows that exposure to PM2.5 is associated with asthma and cardiovascular disease. Therefore, we wanted to assess hospitalization of asthma and CVD across counties.</p>
</div>
<div id="asthma-er-admissions-rate-dataset-2014" class="section level4">
<h4>Asthma ER Admissions Rate Dataset, 2014</h4>
<pre class="r"><code>asthma_ER = read_csv(&quot;./data/Asthma_ER_Rate_10000.csv&quot;) %&gt;%
  janitor::clean_names() %&gt;%
  select(county_name, percentage_rate_ratio, data_years) %&gt;%
  rename(asthma_ER_percent_rate = percentage_rate_ratio, 
         asthma_ER_years = data_years) %&gt;%
  filter(!county_name %in% c(&quot;Long Island&quot;, &quot;New York City&quot;, &quot;Mid-Hudson&quot;, 
                             &quot;Capital Region&quot;, &quot;Mohawk Valley&quot;, 
                             &quot;North Country&quot;, &quot;Tug Hill Seaway&quot;, 
                             &quot;Central NY&quot;, &quot;Southern Tier&quot;, &quot;Finger Lakes&quot;, 
                             &quot;Western NY&quot;, &quot;New York State (excluding NYC)&quot;, 
                             &quot;New York State&quot;)) %&gt;% 
  #to remove non-county regions
  rename(county = county_name)</code></pre>
</div>
<div id="plot-asthma-er-admissions-per-county-2014" class="section level4">
<h4>Plot Asthma ER Admissions per County, 2014</h4>
<pre class="r"><code>asthma_plot_14 = asthma_ER %&gt;%
    ggplot(aes(x = reorder(county, -asthma_ER_percent_rate), 
               y = asthma_ER_percent_rate, group = 1)) + 
  geom_histogram(stat = &quot;identity&quot;) + 
  theme(axis.text.x = element_text(angle = 90)) + 
  labs(x = &quot;County&quot;, 
       y = &quot;Asthma ER Admission Rate (per 10,000)&quot;, 
       title = &quot;Asthma Emergency Room (ER) Admission Rate (per 10,000) by County in New York State, 2014&quot;)
## Warning: Ignoring unknown parameters: binwidth, bins, pad
asthma_plot_14 
## Warning: Removed 1 rows containing missing values (position_stack).</code></pre>
<p><img src="explore_files/figure-html/plot_asthma_er-1.png" width="90%" /></p>
</div>
<div id="cardiovascular-hospitalizations" class="section level4">
<h4>Cardiovascular hospitalizations</h4>
<pre class="r"><code>cvd_data = read_csv(file = &quot;./data/Community_Health__Age-adjusted_Cardiovascular_Disease_Hospitalization_Rate_per_10_000_by_County_Map__Latest_Data.csv&quot;) %&gt;% 
  janitor::clean_names() %&gt;%
  filter(health_topic %in% &quot;Cardiovascular Disease Indicators&quot;) %&gt;% 
  select(county_name, event_count, average_number_of_denominator, 
         percent_rate) %&gt;% 
  rename(county = county_name)</code></pre>
</div>
<div id="age-adjusted-cvd-hospitalization-rate-in-ny-state-2012---2014" class="section level4">
<h4>Age-Adjusted CVD Hospitalization Rate in NY State, 2012 - 2014</h4>
<pre class="r"><code>cvd_data %&gt;%
  ggplot(aes(x = reorder(county, -percent_rate), y = percent_rate)) +
  labs(
    title = &quot;CVD Hospitalization Rate in NY State, 2012 - 2014&quot;,
    x = &quot;County&quot;,
    y = &quot;Hospitalizations per 10,000&quot;) +
  geom_histogram(stat = &quot;identity&quot;) + 
  theme_bw() +
  theme(axis.text.x = element_text(angle = 90), legend.position = &quot;none&quot;)
## Warning: Ignoring unknown parameters: binwidth, bins, pad</code></pre>
<p><img src="explore_files/figure-html/cvd_bar_nys-1.png" width="90%" /></p>
<p>Bronx recorded the highest rates of asthma emergency room admissions, which was more than double that of New York county (second highest rate), and nearly triple that of Kings county (third highest rate). Bronx also recorded the highest rates of cardiovascular hospitalization, with Niagara and Orleans following.</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
